<!DOCTYPE html>
<!-- Load custom css -->
<link href="/Users/simtomar/Desktop/CodeProductivity/css/codeAnalytics.css" rel="stylesheet">

<!-- Load d3.js and c3.js -->
<script src="../libs/c3.min.js" type="text/javascript"></script>
<script src="../libs/d3.v4.min.js"></script>
<script src="../liquidFillGauge.js" language="JavaScript"></script>
<script src="../libs/jquery.3.3.1.min.js"></script>

<!--===============================================================================================-->	
<script src="../vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/bootstrap/js/popper.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="../js/main.js"></script>
<html>


<head>
    <title>Code Analytics</title>
    <!-- this is the code that will allow icon to be visible in the title bar of the brower --> 
    <link rel="icon" type="image/ico" href="../assets/code_analytics_logo.png" />

	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->	
        <link rel="icon" type="image/png" href="../images/icons/favicon.ico"/>
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../vendor/animate/animate.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../vendor/select2/select2.min.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../vendor/perfect-scrollbar/perfect-scrollbar.css">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="../css/util.css">
        <link rel="stylesheet" type="text/css" href="../css/main.css">
    <!--===============================================================================================-->
</head>


<body style="background-color:#2d353c2a;">
    <h4>Welcome Simit!!</h4>
    <br>
    <div>
        <h5>You have Coded 8 Hours and 27 Minutes over this duration:
            <select id="durationSelector" onchange="getSelectedDuration()">
                <option value="Today" selected>Today</option>
                <option value="Yesterday">Yesterday</option>
                <option value="Last 1 Week">Last 1 Week</option>
                <option value="Last 2 Weeks">Last 2 Weeks</option>
                <option value="Last 1 Month">Last 1 Month</option>
                <option value="All Time">All Time</option>
            </select>
        </h5>
    </div>

    <div class="grid-container">
        <div style="height: 300px;">
            <p id="sectionTitles">Your Actual Coding Time</p>
            <div id="barActualCodingTime" style="height: 250px;"></div>
        </div>
        <div style="height: 300px;">
            <p id="sectionTitles">Your File Breakup</p>
            <div id="pieChartFileBreakup" style="height: 250px;"></div>
        </div>
        <div id="achievedDailyGoalsProgress" style="background-color:#2d353cd2; height: 300px;">
            <p id="sectionTitles">You have Achieved <em>5</em> out of <em>7</em> Total Completion Goals for the
                selected duration</p>
            <svg id="fillgauge2" style="height: 225px;"></svg>
        </div>
        <div style="height: 300px;">
            <p id="sectionTitles">Your Today's Completion Goal Progress</p>
            <div id="gaugeTodaysCompletionGoalProgress" style="height: 230px;"></div>
        </div>
        <div style="height: 300px;">
            <p id="sectionTitles">Your Maximum Coding Hours in a Day Till Date !!</p>
            <br>
            <img src="../assets//top_score.png" style="height: 230px; width: 400px">
        </div>
        <div style="height: 300px;">
            <p id="sectionTitles">Congratulations Simit!!</p>
            <br>
            <p id="sectionTitles">You have code more than 10,000 hours and earned the <i>Expert</i> Certificate</p>
            <br>
            <br>
            <!-- <img src="/Users/simtomar/Desktop/CodeAnalytics/Expert_Badge.png" alt="ExpertBadge" width="300" height="220"> -->
            <button id="viewCertificate" class="button"><span>View Certificate </span></button>
            <button id="shareCertificate" class="button"><span>Share Certificate </span></button>
            <button id="downloadCertificate" class="button"><span>Download Certificate </span></button>
            <!-- The Modal -->
            <div id="myModal" class="modal">
            <!-- Modal content -->
                <span class="close">&times;</span>
                <img src="../assets/certificate.png" alt="ExpertBadge" class="modal-image" style="height: 680px; width: 900px">
            </div>
        </div>

    </div>

    <br>
    <br>

	<div class="limiter">
		<div class="container-table100">
			<div class="wrap-table100">
				<div class="table100">
					<table>
						<thead>
							<tr class="table100-head">
								<th class="column1">File Name</th>
								<th class="column2">Extension</th>
								<th class="column3">Duration</th>
							</tr>
						</thead>
						<tbody>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/customer-details-finder.json</td>
									<td class="column2">json</td>
									<td class="column3">17 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/about-you-section.js</td>
									<td class="column2">js</td>
									<td class="column3">26 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/where-you-live-section.js</td>
									<td class="column2">js</td>
									<td class="column3">1 Hr 12 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/more-about-you-section.js</td>
									<td class="column2">js</td>
									<td class="column3">42 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/your-contact-details-section.js</td>
									<td class="column2">js</td>
									<td class="column3">22 Mts</td>
								</tr>
								<tr>
									<td style="color: red;" class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/your-marketing-choices-section.js</td>
									<td class="column2">js</td>
									<td class="column3">3 Hr 12 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/customer-details-finder.json</td>
									<td class="column2">json</td>
									<td class="column3">12 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/customer-balance-finder.json</td>
									<td class="column2">json</td>
									<td class="column3">18 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/customer-details-finder.feature</td>
									<td class="column2">feature</td>
									<td class="column3">12 Mts</td>
								</tr>
								<tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/find-customer-details-api/common/models/where-you-live-section.feature</td>
									<td class="column2">feature</td>
									<td class="column3">8 Mts</td>
                                </tr>
                                
                                <tr>
									<td class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/index.html</td>
									<td class="column2">html</td>
									<td class="column3">23 Mts</td>
                                </tr>	
                                
                                <tr>
									<td style="color: #2AC43F;" class="column1">/Users/simtomar/Desktop/Lloyds_Project/Automation/webdriverIO_Demo/demo.css</td>
									<td class="column2">css</td>
									<td class="column3">4 Mts</td>
								</tr>	
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

    <script language="JavaScript">

        let sectionWidth = getWidth();
        let sectionHeight = 300;

        function getWidth() {
            return Math.max(
                document.body.scrollWidth,
                document.documentElement.scrollWidth,
                document.body.offsetWidth,
                document.documentElement.offsetWidth,
                document.documentElement.clientWidth
            );
        }

        //Get the Duration against which the Data needs to be fetched
        function getSelectedDuration() {
            let selectedValue = document.getElementById("durationSelector").value;

        }

        //Bar which reflects Actual Coding Hours
        let barActualCodingTime = c3.generate({

            data: {
                x: 'Days',
                columns:
                    [
                        ['Days', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        ['value', 2, 10, 15, 3, 8, 12, 1]
                    ],
                type: 'bar',
                colors: {
                    value: function (d) {
                        return '#' + (0xff0000 + (d.value - 25) * 256 * 3).toString(16);
                    }
                }
            },
            axis: {
                x: {
                    label: {
                        text: 'Days',
                        position: 'outer-center'
                    },
                    type: 'category'
                },
                y: {
                    label: {
                        text: 'Time in Hours',
                        position: 'outer-middle'
                    }
                }
            },
            legend: {
                show: false
            },
            grid: {
                y: {
                    lines: [
                        { value: 4, class: 'greenyellow', text: 'Average Coding Time', position: 'start' },
                    ]
                }
            },
            size: {
                width: sectionWidth / 2
            },
            bindto: '#barActualCodingTime'

        });


        //Pie Chart which reflects the File Breakup
        let pieChartFileBreakup = c3.generate({
            data: {
                // iris data from R
                columns: [
                    ['data1', 30],
                    ['data2', 120],
                ],
                type: 'pie',
                onclick: function (d, i) { console.log("onclick", d, i); },
                onmouseover: function (d, i) { console.log("onmouseover", d, i); },
                onmouseout: function (d, i) { console.log("onmouseout", d, i); }
            },
            pie: {
                title: 'Simit'
            },
            bindto: '#pieChartFileBreakup'
        });
        setTimeout(function () {
            pieChartFileBreakup.load({
                columns: [
                    [".feature", 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 3],
                    [".json", 1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6],
                    [".js", 2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1],
                    [".css", 2.5, 1.9, 2.1, 1.8, 2.2],
                    [".html", 2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5],
                ]
            });
        }, 1500);
        setTimeout(function () {
            pieChartFileBreakup.unload({
                ids: 'data1'
            });
            pieChartFileBreakup.unload({
                ids: 'data2'
            });
        }, 2500);

        //Gauge which reflects the progress of Daily Completion Goal
        let gaugeTodaysCompletionGoalProgress = c3.generate({
            data: {
                columns: [
                    ['Progress', 6]
                ],
                type: 'gauge',
                onclick: function (d, i) { console.log("onclick", d, i); },
                onmouseover: function (d, i) { console.log("onmouseover", d, i); },
                onmouseout: function (d, i) { console.log("onmouseout", d, i); }
            },
            gauge: {
                min: 0,
                max: 8
            },
            color: {
                pattern: ['#FF0000', '#F97600', '#F6C600', '#60B044'], // the three color levels for the percentage values.
                threshold: {
                    values: [2, 4, 6, 8]
                }
            },

            bindto: '#gaugeTodaysCompletionGoalProgress'

        });
        setTimeout(function () {
            gaugeTodaysCompletionGoalProgress.load({
                columns: [['Progress', 6]]
            });
        }, 1000);


        //Liquid Gauge which reflects Achieved/Total Completion Goals
        d3.select("#fillgauge2").call(d3.liquidfillgauge, 28, {
            circleColor: "#60b044",
            textColor: "#65b847",
            waveTextColor: "#65b847",
            waveColor: "#a3d491",
            circleThickness: 0.2,
            textVertPosition: 0.2,
            waveAnimateTime: 1000,
            backgroundColor: "#2d353cd2",
            valueCountUpAtStart: false,
            waveRiseAtStart: false
        });
        setInterval(function () {
            d3.select("#fillgauge2").on("valueChanged")(71);
        }, 1000);

        //This section reflects the Certificate of a Developer
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("viewCertificate");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }


        //Section which reflects the Time each File has taken
        let totalRows = 5;
        let cellsInRow = 2;
        function drawTable() {
            // get the reference for the body
            let divFileTime = document.getElementById('divFileTime');

            // creates a <table> element
            let tbl = document.createElement("table");


            let cntr = 0;
            // creating rows
            for (let r = 0; r < totalRows; r++) {
                let row = document.createElement("tr");

                // create cells in row
                for (let c = 0; c < cellsInRow; c++) {

                    if (r === 0) {
                        let header = document.createElement("th");
                        let headerText = document.createTextNode('Header Text')
                        header.appendChild(headerText);
                        row.appendChild(header);

                    } else {
                        cntr += 1;
                        let cell = document.createElement("td");
                        let cellText = document.createTextNode(`File ${cntr}`);
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                    }

                }


                tbl.appendChild(row); // add the row to the end of the table body
            }

            divFileTime.appendChild(tbl);
        }
        window.onload = drawTable;
        
    </script>

</body>
</html>